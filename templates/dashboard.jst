<html>
<head>
<title>Bungy</title>
<meta 
     name='viewport' 
     content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' 
/>
<script src='/socket.io-client/dist/socket.io.slim.js'></script>
<script src='/jquery/dist/jquery.slim.min.js'></script>
<script src='/index.js'></script>
<style>
body{
	background:#000;
	padding:0px;
	font-family:arial;
}
.notconnected{
	position:fixed;
	width:100%;
	height:100%;
	top:0px;
	left:0px;
	background:rgba(0,0,0,0.5);
}
.notconnected::before{
	display:block;
	color:#fff;
	content:'DISCONNECTED';
	top:50%;
	left:50%;
	position:absolute;
	transform:translateX(-50%) translateY(-50%);
}
body.connected .notconnected{
	display:none;
}
.lights,.alloff{
	display:inline-block;
	width:50%;
	height:20%;
	background-size:cover;
	background-position:center center;
	border:5px solid #000;
	cursor:none;
	position:relative;
}
.alloff{
	visibility:hidden;
}
.lights>div,
.alloff>div{
	position:absolute;
	top:50%;
	left:0px;
	width:100%;
	font-size:30px;
	padding:10px;
	box-sizing:border-box;
	transform:translateY(-50%);
	background:rgba(0,0,0,0.3);
	color:#fff;
}
@media screen and (orientation:landscape) { 
	width:25%;
	height:50%;
 }
.lights.on{
	border-color:#F00;
}
.lights.on>div{
		background:rgba(255,0,0,0.3);
}
.lights.on~.alloff{
	visibility:visible;
}
{{ for(var k in it.lights) { }}
	.{{=k.toLowerCase().replace(/\W/g,'')}}{
		background-image:url({{=it.lights[k].schema.image.off}});
	}
	.{{=k.toLowerCase().replace(/\W/g,'')}}.on{
		background-image:url({{=it.lights[k].schema.image.on}});
	}
{{ }}}
</style>
</head>
<body>
{{ for(var k in it.lights) { }}
{{=it.lights[k].render()}}
{{ }}}
{{ for(var k in it.doors) { }}
{{=it.doors[k].render()}}
{{ }}}
<button type='button' class="alloff"><div>Turn all off</div></button>
<div class="notconnected"></div>
</body>
</html>